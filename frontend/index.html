<!DOCTYPE html>
<html>
<head>
	<title>Jug quickies</title>
	<meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,700' >
	<link rel="stylesheet" type="text/less" href="css/bootstrap.theme.less">
	<link rel="stylesheet" type="text/less" href="css/style.less">
	
	<script type="text/javascript" src="bower_components/less/dist/less.min.js"></script>
	<script src="bower_components/react/react.js"></script>
    <script src="bower_components/react/JSXTransformer.js"></script>
</head>
<body>
	<nav class="navbar navbar-default" role="navigation">
  		<div class="container-fluid">
		   <div class="navbar-header">
		     <a class="navbar-brand" href="#">JUG Quickies</a>
		     <button type="button" class="btn btn-default navbar-btn pull-right">Sign in</button>
		   </div>
  		</div>
  	</nav>

  	<div class="container">
		<!-- CONTENT REACT -->
  		<div class="row" id="content"></div>
  	</div>

	<div class="footer">
		<div id="twitter"></div>
	</div>

	
  	<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="bower_components/twitter-fetcher/js/twitterFetcher_min.js"></script>
	<script type="text/jsx" src="js/top3.js"></script>
	<script type="text/jsx" src="js/carousel.js"></script>
	<script type="text/jsx">
		var listOpenData =  [ 
			{key:1, 
				name:"Chaton etc...", date:"01.01.2015 19:00", url:"/sessions/1/detail", author : {name:'Florian Genaudet', id:0, url:'/users/0/detail'}, open: true, nbLike:10},
			{key:2, 
				name:"Chaton etc...", date:"02.01.2015 19:00", url:"/sessions/2/detail", author : {name:'Florian Genaudet', id:0, url:'/users/0/detail'}, open: true, nbLike:20},
			{key:3, 
				name:"Chaton etc...", date:"03.01.2015 19:00", url:"/sessions/3/detail", author : {name:'Florian Genaudet', id:0, url:'/users/0/detail'}, open: true, nbLike:30}
		];
		var listClosedData =  [ 
			{key:1, 
				name:"Chaton etc...", date:"01.01.2015 19:00", url:"/sessions/1/detail", author : {name:'Florian Genaudet', id:0, url:'/users/0/detail'}, open: false, nbLike:10},
			{key:2, 
				name:"Chaton etc...", date:"02.01.2015 19:00", url:"/sessions/2/detail", author : {name:'Florian Genaudet', id:0, url:'/users/0/detail'}, open: false, nbLike:20},
			{key:3, 
				name:"Chaton etc...", date:"03.01.2015 19:00", url:"/sessions/3/detail", author : {name:'Florian Genaudet', id:0, url:'/users/0/detail'}, open: false, nbLike:30}
		];
		var bannerData = [
			{src:'img/ads_banner/kitten_0.gif', alt:'kitten_0'},
			{src:'img/ads_banner/kitten_1.gif', alt:'kitten_1'},
			{src:'img/ads_banner/kitten_2.gif', alt:'kitten_2'},
			{src:'img/ads_banner/kitten_3.gif', alt:'kitten_3'}
		];
		React.render(
		  <div>
		  	<Carousel data={bannerData} id="carousel-kitten"/>
		  	<SessionList data={listOpenData} name="Open Sessions"/>
		  	<SessionList data={listClosedData} name="Past Sessions"/>
		  </div>,
		  document.getElementById('content')
		);
	</script>
	<script type="text/javascript">
		var config = {
		  "id": '543076616558370818',
		  "domId": 'twitter',
		  "maxTweets": 20,
		  "enableLinks": true,
		  "showUser": true,
		  "showTime": true,
		  "dateFunction": dateFormatter,
		  "customCallback": handleTweets,
		  "showRetweet": false
		};

		function dateFormatter(date) {
		  return date.toTimeString();
		}

		function handleTweets(tweets){
		    var x = tweets.length;
		    var n = 0;
		    var element = document.getElementById('twitter');
		    var html = '<div class="row">';
		    while(n < x) {
		      html += '<div class="col-xs-12 col-sm-6 col-md-4 twitWrapper">' + tweets[n] + '</div>';
		      n++;
		    }
		    html += '</div>';
		    element.innerHTML = html;
		}

		twitterFetcher.fetch(config);
	</script>
</body>
</html>